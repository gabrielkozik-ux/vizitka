<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog | Gabriel Kozík</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- NAVIGACE -->
    <nav class="main-nav">
        <a href="index.html" class="nav-logo">
            <img src="assets/images/profilova-fotka.jpg" alt="Gabriel Kozík" class="nav-photo">
            Gabriel Kozík
        </a>
        <div class="hamburger" onclick="toggleMenu()">
            <div class="bar"></div><div class="bar"></div><div class="bar"></div>
        </div>
        <div class="nav-links-container">
            <div class="nav-links">
                <a href="index.html#sluzby">Služby</a>
                <a href="index.html#kde-se-potkat">Akce</a>
                <a href="blog.html" class="active">Blog</a> <!-- Active class -->
                <a href="index.html#kontakt">Kontakt</a>
            </div>
            <div class="lang-switcher">
                <button class="lang-button" onclick="toggleLangMenu()">CS <span class="arrow"></span></button>
                <div class="lang-dropdown" id="langDropdown">
                    <a href="blog-en.html">EN</a>
                </div>
            </div>
        </div>
    </nav>

    <div class="page-header">
        <h1>Blog & Novinky</h1>
        <p>Postřehy ze světa práva, AI a networkingu</p>
    </div>

    <!-- FILTRACE -->
    <section class="blog-list">
        <div class="container">
            <div class="filter-container">
                <button class="filter-btn active" onclick="filterArticles('all')">Vše</button>
                <button class="filter-btn" onclick="filterArticles('pravo')">Právo</button>
                <button class="filter-btn" onclick="filterArticles('ai')">AI & Inovace</button>
                <button class="filter-btn" onclick="filterArticles('networking')">Networking</button>
            </div>

            <!-- ZDE SE BUDOU GENEROVAT ČLÁNKY JAVASCRIPTEM -->
            <div id="articles-container">
                <!-- Loading state -->
                <p style="text-align:center; color:#888;">Načítám články...</p>
            </div>

            <!-- Paginace (zatím statická, v budoucnu možno oživit) -->
            <div class="pagination-container">
                <a href="#" class="disabled">&laquo; Předchozí</a>
                <a href="#" class="active">1</a>
                <a href="#">2</a>
                <a href="#">3</a>
                <a href="#">Další &raquo;</a>
            </div>
        </div>
    </section>

    <!-- PATIČKA -->
    <footer>
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h4>Kontakt</h4>
                    <p><strong>JUDr. Gabriel Kozík</strong></p>
                    <p><a href="mailto:gabriel@iustoria.cz">gabriel@iustoria.cz</a></p>
                </div>
                <div class="footer-col">
                    <h4>Sledujte mě</h4>
                    <div class="social-icons-container">
                        <a href="#" class="social-icon"><img src="assets/images/linkedin.png" alt="LinkedIn"></a>
                    </div>
                </div>
            </div>
            <div class="copyright">&copy; 2025 Gabriel Kozík.</div>
        </div>
    </footer>

    <!-- SKRIPTY -->
    <script src="assets/js/blog-data.js"></script> <!-- Načtení dat -->
    
    <script>
        // === LOGIKA PRO GENEROVÁNÍ BLOGU ===
        
        const container = document.getElementById('articles-container');
        const currentLang = 'cs'; // Pro anglickou verzi změň na 'en'

        function renderArticles(filter = 'all') {
            container.innerHTML = ''; // Vyčistit kontejner

            // Filtrování
            const filteredData = filter === 'all' 
                ? blogArticles 
                : blogArticles.filter(article => article.categories.includes(filter));

            // Generování HTML pro každý článek
            if (filteredData.length === 0) {
                container.innerHTML = '<p style="text-align:center">V této kategorii zatím nejsou žádné články.</p>';
                return;
            }

            filteredData.forEach(article => {
                // Vybereme správný jazyk
                const content = article[currentLang];
                
                // Vytvoření HTML struktury karty
                const cardHTML = `
                    <article class="article-card fade-in">
                        <div class="article-image">
                            <a href="${content.link}">
                                <img src="${article.image}" alt="${content.title}" loading="lazy">
                            </a>
                        </div>
                        <div class="article-content">
                            <div class="article-meta">
                                ${article.date} • ${content.categoryLabel}
                            </div>
                            <h2>
                                <a href="${content.link}">${content.title}</a>
                            </h2>
                            <p>${content.perex}</p>
                            <a href="${content.link}" class="read-more-btn">
                                ${currentLang === 'cs' ? 'Číst více' : 'Read more'}
                            </a>
                        </div>
                    </article>
                `;
                container.insertAdjacentHTML('beforeend', cardHTML);
            });
        }

        // Funkce pro ovládání filtrů
        function filterArticles(category) {
            // Přepnutí active třídy na tlačítkách
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active'); // 'event' je dostupný z onclicku
            
            renderArticles(category);
        }

        // Spustit při načtení stránky
        document.addEventListener('DOMContentLoaded', () => {
            renderArticles('all');
        });

        // Toggle menu (zachováno z původního webu)
        function toggleMenu() {
            document.querySelector('.nav-links-container').classList.toggle('active');
        }
    </script>
</body>
</html>